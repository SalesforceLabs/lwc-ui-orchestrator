<?xml version="1.0" encoding="UTF-8"?>
<FlexiPage xmlns="http://soap.sforce.com/2006/04/metadata">
    <flexiPageRegions>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;LWC UI Orchestration&lt;/strong&gt;&lt;/p&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText2</identifier>
            </componentInstance>
        </itemInstances>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;p&gt;Are you and your business users tired of triggering complex back end calculations from Salesforce that have poor updates on the job status and their failures? Sometimes users do not even get a notification that job has been completed, and it is really frustrating!&lt;/p&gt;&lt;p&gt;Sometimes we do not have any other option but to move complex logics asynchronously and run them using Queueables or Batches. And by doing that we submit these transactions to the Salesforce &quot;black box&quot; which is good because it simplifies many things, but the visibility for end users is limited, and this can make end users angry because they will probably just receive an in-app notification saying that &quot;something failed&quot; but struggle to add details on what failed ...&amp;nbsp;&lt;/p&gt;&lt;p&gt;Also, by doing that we start consuming asynchronous transactions, and we all now there is a daily limit we should not reach.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;What if we tell you that you can solve these 2 issues within an on-platform solution ?&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This solution is called LWC UI ORCHESTRATOR ! LWC UI Orchestrator is a simple Framework that allows you to orchestrate apex jobs from a LWC in the user screen. It is so powerful! It can run parallel transactions, simple transaction, chainable transactions, ... without consuming any single asynchronous transaction! And since the apex transactions are triggered from LWC, we can get synchronous responses from the apex jobs right in the LWC (without any need to leverage expensive Platform Events Subscriptions) and keep updating the user in real time on each step the process currently is.&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;You can find a great video here: &lt;a href=&quot;https://youtu.be/e8YFVxblDK4&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;https://youtu.be/e8YFVxblDK4&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This framework is capable of solving very complex problems that need to split the logic into small chunks, and provide great user experience. User does not need to wait to receive in-appl notifications or emails that might not be sent because of who knows why! The UI will be updated in real time.&lt;/p&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText</identifier>
            </componentInstance>
        </itemInstances>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68);&quot;&gt;How this setup ?&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Assign the UIJob permission to the User&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;How this works ?&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Click on the button start below to trigger a Demo job. This test Job will split in 3 tasks and will create Test Accounts using various methods:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Task 1&lt;/strong&gt; :140 account created synchronously through the first task&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Task 2&lt;/strong&gt; : 140 * 3 accounts created in parallel through a second task, &lt;ul&gt;&lt;li&gt;140 account created synchronously through the first sub task&lt;/li&gt;&lt;li&gt;140 account created synchronously through the second sub task&lt;/li&gt;&lt;li&gt;140 account created synchronously through the third sub task&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Task 3&lt;/strong&gt; : All accounts created in above tasks will be updated with chain number and record count number &lt;ul&gt;&lt;li&gt;each chain task will process 100 records each (Same task will be invoked 6 times)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt;For more information on how this has been setup, you can take a look into the &quot;Demo Job&quot; Custom Metadata type record created in the &lt;/span&gt;&lt;strong style=&quot;color: rgb(68, 68, 68);&quot;&gt;UI Job Configuration&lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt; custom metadata type.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt;If you want to setup your own jobs, you can use this Demo Job as a reference and create a new UI Job Configuration Custom Metadata type for the job you want to calculate, and develop the Apex Classes that you want to be executed. The Custom Metadata will define the orchestration between the different apex classes, as well as any input parameters you want to pass to any of the classes. So cool !!&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt;For more detail please check &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;UIJobDemo_UITask Class &lt;/span&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt;and Demo_Job &lt;/span&gt;&lt;strong style=&quot;color: rgb(68, 68, 68);&quot;&gt;UI Job Configuration&lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(234, 3, 3);&quot;&gt;** The DML in loop has been used in UIJobDemo_UITask Class purposely to demonstrate that individual task run as the separate server task.&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68);&quot;&gt;How to validate ?&lt;/strong&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Open Developer console before click &quot;Start Demo&quot; button.&lt;/li&gt;&lt;li&gt;Click &quot;Start Demo&quot; button&lt;/li&gt;&lt;li&gt;Check whether any log entry are creating for each task &lt;ol&gt;&lt;li&gt;when run Sync task it will create one log entry&lt;/li&gt;&lt;li&gt;when run Parallel Task , three log entries will be created without waiting of other log entry and The Status of Task on UI will be In progress until all three log entry is finished.&lt;/li&gt;&lt;li&gt;When chain task is running, the log entry will be created one after another.&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;You can check more details by checking each log details.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Demo class has been coded to hit dml limit when it run method more then once in same transaction using dml in loop. You can check the job is successfully finished without getting error.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68);&quot;&gt;Use case of LWC UI Orchestration&lt;/strong&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Complex calculation of price and cost&lt;/li&gt;&lt;li&gt;Complex line item creation based on rule and discount matrix and etc with large volume&lt;/li&gt;&lt;li&gt;Update/ insert large number of records ( such as create tasks based on template by checking status of other records and rule)&lt;/li&gt;&lt;li&gt;Complex interface including multiple interface calls and Salesforce transaction DMLs&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;And more...&lt;/p&gt;&lt;p&gt;User can see error during above process and retry.&lt;/p&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText3</identifier>
            </componentInstance>
        </itemInstances>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>buttonLabel</name>
                    <value>Start Demo</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>metaDataName</name>
                    <value>Demo_Job</value>
                </componentInstanceProperties>
                <componentName>callUIJobComponent</componentName>
                <identifier>c_callUIJobComponent</identifier>
            </componentInstance>
        </itemInstances>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>enableInlineEdit</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>entityName</name>
                    <value>Account</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>filterName</name>
                    <value>LWC_Demo_Account</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>hideActionBar</name>
                    <value>false</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>hideSearchBar</name>
                    <value>false</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>pageSize</name>
                    <value>30</value>
                </componentInstanceProperties>
                <componentName>flexipage:filterListCard</componentName>
                <identifier>flexipage_filterListCard</identifier>
            </componentInstance>
        </itemInstances>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;p&gt;Do not forget to delete the accounts that have just been created (named &quot;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;LWC Orchestration Test Accoun&lt;/span&gt;&quot;) if you want to keep your sandbox clean.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;The last steps to use the Job you have defined are the following ones:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Add the LWC UI Orchestration Component present in the Utility Bar in this App into the App your Business users are using.(Only support console App to use Utility bar) set with &lt;ul&gt;&lt;li&gt;Start Automatically : true&lt;/li&gt;&lt;li&gt;not display button : true&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Add the UIJobCaller LWC into any record page, app page, ...anywhere! you want to trigger that job. It can be, for instance, from a lightning record page, so you can send to the job the recordId as input parameter !&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Enjoy it !!&lt;/p&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText4</identifier>
            </componentInstance>
        </itemInstances>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>buttonLabel</name>
                    <value>Purge Demo Data</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>metaDataName</name>
                    <value>Demo_Purge_Records</value>
                </componentInstanceProperties>
                <componentName>callUIJobComponent</componentName>
                <identifier>c_callUIJobComponent2</identifier>
            </componentInstance>
        </itemInstances>
        <name>main</name>
        <type>Region</type>
    </flexiPageRegions>
    <masterLabel>UI Job Sample Demo App</masterLabel>
    <template>
        <name>flexipage:defaultAppHomeTemplate</name>
    </template>
    <type>AppPage</type>
</FlexiPage>
